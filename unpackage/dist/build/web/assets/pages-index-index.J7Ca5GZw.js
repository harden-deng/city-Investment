import{r as e,a,c as s,w as l,i as o,o as t,b as n,n as u,d as r,s as c,g as i,e as p,f as d,h as m,j as g,k as f}from"./index-DszEigh-.js";import{_ as h}from"./uni-easyinput.BqZ0_ocZ.js";import{o as _,r as v}from"./uni-app.es.yxr7YjqI.js";import{h as j}from"./request.CCTae_dV.js";import{_ as y}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-icons.Bqff-X7n.js";const b=""+new URL("login-CWEvfsqi.png",import.meta.url).href,x=y({__name:"index",setup(y){const x={placeholderColor:"#999999"},V=e(0),k=e("sybjbro"),w=e(123);_((()=>{}));const C=()=>{k.value&&w.value?(i("token")&&p(),j.post("/Auth/accountlogin",{userAccount:k.value,userPassword:w.value}).then((e=>{console.log("登录成功",e),0==e.code?(d("token",e.data.accessToken),d("userFullName",e.data.userFullName),m({url:"/pages/nav/layoutHome"})):c({title:e.msg,icon:"none"})})).catch((e=>{console.log("登录失败",e)}))):c({title:"请输入账号和密码",icon:"none"})};return(e,c)=>{const i=o,p=g,d=v(a("uni-easyinput"),h),m=f;return t(),s(i,{class:"login-container"},{default:l((()=>[n(i,{class:"status_bar",style:u({height:2*V.value+"rpx"})},null,8,["style"]),n(i,{class:"header-section"},{default:l((()=>[n(p,{class:"login-image",src:b,mode:""})])),_:1}),n(i,{class:"form-container"},{default:l((()=>[n(i,{class:"input-group"},{default:l((()=>[n(d,{border:!1,height:"150px",styles:x,modelValue:k.value,"onUpdate:modelValue":c[0]||(c[0]=e=>k.value=e),placeholder:"请输入您的平台账号"},null,8,["modelValue"])])),_:1}),n(i,{class:"input-group"},{default:l((()=>[n(d,{type:"password",modelValue:w.value,"onUpdate:modelValue":c[1]||(c[1]=e=>w.value=e),placeholder:"请输入您的密码"},null,8,["modelValue"])])),_:1}),n(m,{class:"login-btn",onClick:C},{default:l((()=>[r(" 登录 ")])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-c789cd6e"]]);export{x as default};
