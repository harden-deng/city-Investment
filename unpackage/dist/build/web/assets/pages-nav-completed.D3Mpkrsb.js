import{r as e,m as l,y as a,p as s,a as t,c as o,w as i,q as n,A as c,B as u,i as r,o as d,b as p,n as m,d as f,E as v,G as _,t as b,u as h,F as g,e as y,H as k,f as x,I as A,J as j,x as C,K as q,L as I,k as N,v as V}from"./index-CwTIEDZV.js";import{_ as w}from"./uni-nav-bar.BEjxVRYy.js";import{o as B,r as P}from"./uni-app.es.DzoixSAQ.js";import{_ as Q,F as R,a as F}from"./filterPopup.BJ9dnAtc.js";import{_ as H}from"./search.ByzXnQub.js";import{g as U}from"./storage.D9vc3L4u.js";import{B as z}from"./bottomNavBar.DG2O4kVi.js";import{_ as K}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-icons.LjeySOYq.js";import"./uni-popup.CcSiLlLD.js";import"./h5Bribge.CC0yN2Qd.js";const O=K({__name:"completed",setup(K){const O=e(0);B((()=>{const e=U("statusBarHeight");0!=Number(e)&&(O.value=Number(e))}));const $=e(null),E=e(""),G=e(null),J=()=>{a((()=>{console.log("searchInput",G.value),G.value&&G.value.focus()}))},L=e=>{E.value=e.detail.value,console.log("搜索关键词:",E.value)};e(!1);const M=e([0,1,2]),S=e(0),T=e(["所有","流转中","已审核"]),D=e(!1),W=e(null);function X(){D.value=!0}function Y(e){console.log("筛选结果",e)}function Z(){console.log("重置筛选")}const ee=e([{id:"QA2019091723123100",time:"15分钟前",price:"10,400,500.00",customerName:"张三",applicant:"第一事业部",contactPhone:"13982003346",description:"本期支付中：支付农民工工资专户10000000元，基本户9943492元。",keyInformation:"外环西段交通功能提升工程，土建施工3标段（主线）",isApproval:!0,labelArr:[{label:"标签1",id:"2313131"},{label:"标签2",id:"2313131"},{label:"标签2",id:"2313131"},{label:"标签2",id:"2313131"},{label:"标签2",id:"2313131"}]},{id:"QA2019091723123100",time:"15分钟前",price:"10,400,500.00",customerName:"张三",applicant:"第一事业部",contactPhone:"13982003346",description:"本期支付中：支付农民工工资专户10000000元，基本户9943492元。",keyInformation:"外环西段交通功能提升工程，土建施工3标段（主线）",isApproval:!1,labelArr:[{label:"标签1",id:"2313131"},{label:"标签2",id:"2313131"},{label:"标签2",id:"2313131"},{label:"标签2",id:"2313131"},{label:"标签2",id:"2313131"}]},{id:"QA20190917212310",time:"15分钟前",price:"10,400,500.00",customerName:"张三",applicant:"第一事业部",contactPhone:"13982003346",description:"本期支付中：支付农民工工资专户10000000元，基本户9943492元。",keyInformation:"外环西段交通功能提升工程，土建施工3标段（主线）",isApproval:!1,labelArr:[{label:"标签1",id:"2313131"},{label:"标签2",id:"2313131"}]},{id:"QA20190917200112312",time:"15分钟前",price:"10,400,500.00",customerName:"张三",applicant:"第一事业部",contactPhone:"13982003346",description:"本期支付中：支付农民工工资专户10000000元，基本户9943492元。",keyInformation:"外环西段交通功能提升工程，土建施工3标段（主线）",isApproval:!1,labelArr:[{label:"标签1",id:"2313131"},{label:"标签2",id:"2313131"}]}]),le=()=>{var e;(null==(e=E.value)?void 0:e.trim())?(k(),ae()):y({title:"请输入搜索关键词",icon:"none"})},ae=()=>{setTimeout((()=>{$.value.complete(),$.value.reload()}),10)},se=(e,l)=>{console.log("pageNo--\x3e",e,"pageSize----\x3e",l),$.value.complete(ee.value)},te=e(""),oe=()=>{try{const{windowHeight:e}=n(),l=c();u().in(null==l?void 0:l.proxy).select(".header-stickt").boundingClientRect((l=>{const a=(null==l?void 0:l.height)||0,s=Math.max(0,e-a);te.value=`${s}px`})).exec()}catch(e){te.value="calc(100vh - 100rpx)"}};return l((()=>{var e;console.log("订单页面加载完成"),a((()=>oe())),null==(e=s)||e((()=>oe()))})),(e,l)=>{const a=r,s=x,n=A,c=P(t("uni-nav-bar"),w),u=V,y=P(t("z-paging"),Q);return d(),o(a,{class:"order-page"},{default:i((()=>[p(a,{class:"header-stickt"},{default:i((()=>[p(a,{class:"status_bar",style:m({height:2*O.value+"rpx"})},null,8,["style"]),p(c,{class:"nav-bar-top"},{left:i((()=>[p(a,{class:"nav-bar-title"},{default:i((()=>[f(" 已办流程 ")])),_:1})])),right:i((()=>[p(a,{onClick:X,class:"nav-bar-filter"},{default:i((()=>[f(" 筛选 ")])),_:1})])),default:i((()=>[p(a,{class:"nav-input-view",onClick:J},{default:i((()=>[p(s,{class:"input-seach",src:H,mode:"",onClick:v(le,["stop"])}),p(n,{ref_key:"searchInput",ref:G,class:"input-view",placeholder:"搜索",type:"text",modelValue:E.value,"onUpdate:modelValue":l[0]||(l[0]=e=>E.value=e),onInput:L,"confirm-type":"search",onConfirm:le,onKeyup:_(le,["enter"])},null,8,["modelValue"])])),_:1})])),_:1}),p(a,{class:"segmented-section"},{default:i((()=>[(d(!0),b(g,null,h(T.value,((e,l)=>(d(),o(a,{class:"segmented-section-item",key:l,onClick:e=>(e=>{S.value=e,ae();const l=M.value.indexOf(e);-1!==l&&M.value.splice(l,1),console.log("切换到:",T.value[e])})(l)},{default:i((()=>[p(u,{class:"section-item-0",style:{height:"0"}}),p(a,{class:j(["section-item-1",{"section-item-1-active":l===S.value}])},{default:i((()=>[f(C(e)+" ",1),p(u,{class:j({msg:M.value.includes(l)})},null,8,["class"])])),_:2},1032,["class"]),p(u,{class:j(["section-item-0",{"section-item-0-active":l===S.value}])},null,8,["class"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),p(a,{class:"order-list",style:m({height:te.value})},{default:i((()=>[p(y,{ref_key:"paging",ref:$,modelValue:ee.value,"onUpdate:modelValue":l[1]||(l[1]=e=>ee.value=e),onOnRefresh:ae,onQuery:se,fixed:!1},{default:i((()=>[p(a,{style:{height:"30rpx"}}),(d(!0),b(g,null,h(ee.value,(e=>(d(),o(a,{class:"order-card",key:e.id,onClick:l=>(e=>{N({url:`/pages/detail/index?id=${e.id}&type=pending`})})(e)},{default:i((()=>[q(p(a,{class:"approved-view"},{default:i((()=>[p(s,{src:F,mode:"",style:{width:"100%",height:"100%"}})])),_:2},1536),[[I,null==e?void 0:e.isApproval]]),p(a,{class:"order-header"},{default:i((()=>[p(u,{class:"order-id"},{default:i((()=>[f(C(e.id),1)])),_:2},1024),p(a,{class:"order-time"},{default:i((()=>[p(u,{class:"time-text"},{default:i((()=>[f(C(e.time),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),p(a,{class:"order-content"},{default:i((()=>[p(a,{class:"quote-section"},{default:i((()=>[p(u,{class:"quote-label"},{default:i((()=>[f("申请费用：")])),_:1}),p(u,{class:"quote-price"},{default:i((()=>[f("¥"+C(e.price),1)])),_:2},1024)])),_:2},1024),p(a,{class:"quote-section"},{default:i((()=>[p(u,{class:"quote-label"},{default:i((()=>[f("申请单位：")])),_:1}),p(u,{class:"description-text"},{default:i((()=>[f(C(e.applicant)+" | "+C(e.customerName),1)])),_:2},1024)])),_:2},1024),p(a,{class:"quote-section"},{default:i((()=>[p(u,{class:"quote-label"},{default:i((()=>[f("关键信息：")])),_:1}),p(u,{class:"description-text"},{default:i((()=>[f(C(e.keyInformation),1)])),_:2},1024)])),_:2},1024),p(a,{class:"quote-section"},{default:i((()=>[p(u,{class:"quote-label"},{default:i((()=>[f("业务摘要：")])),_:1}),p(u,{class:"description-text"},{default:i((()=>[f(C(e.description),1)])),_:2},1024)])),_:2},1024),p(a,{class:"label-view"},{default:i((()=>[(d(!0),b(g,null,h((null==e?void 0:e.labelArr)||[],((e,l)=>(d(),o(a,{class:"label-item",key:l},{default:i((()=>[p(u,{class:"point-icon"}),p(u,{class:"label-text"},{default:i((()=>[f(C(e.label),1)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["style"]),p(R,{ref_key:"filterRef",ref:W,modelValue:D.value,"onUpdate:modelValue":l[2]||(l[2]=e=>D.value=e),confirmCount:1400,onConfirm:Y,onReset:Z},null,8,["modelValue"]),p(z,{ref:"bottomNavRef",modelValueFlag:2},null,512)])),_:1})}}},[["__scopeId","data-v-e0584170"]]);export{O as default};
