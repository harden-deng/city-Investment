import{h as e,$ as t,j as a,k as s,l,r as o,m as n,c as r,w as i,i as c,o as u,b as d,n as p,d as h,p as m,q as g,F as f,s as b,t as _,f as T,u as y}from"./index-DggY69xM.js";import{o as U}from"./uni-app.es.Bv-fYdZq.js";import{g as w}from"./storage.D9vc3L4u.js";import{F as j}from"./filterPopup.Wx3npqL_.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";const q={config:{baseUrl:"/api/",header:{"Content-Type":"application/json;charset=UTF-8","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:{},method:"POST",dataType:"json",responseType:"text",success(){},fail(){},complete(){}},interceptor:{request:null,response:null},request(o){return o||(o={}),o.baseUrl=o.baseUrl||this.config.baseUrl,o.dataType=o.dataType||this.config.dataType,o.url=o.baseUrl+o.url,o.sslVerify=!1,o.data=o.data||{},o.method=o.method||this.config.method,"json"==o.dataType?o.header={...o.header,"Content-Type":"application/json;charset=UTF-8"}:o.header={...o.header,"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},o.header={...o.header,"X-Access-Token":e("token")||""},new Promise(((e,n)=>{let r=null;o.complete=l=>{let o=l.statusCode;if(l.config=r,this.interceptor.response){let e=this.interceptor.response(l);e&&(l=e)}l.statusCode,200===o?(t("login",{login:!0}),401==l.data.code&&(a("token",""),s({url:"/pages/login/login"})),e(l.data)):401===o?(a("token",""),s({url:"/pages/login/login"})):n(l)},r=Object.assign({},this.config,o),r.requestId=(new Date).getTime(),this.interceptor.request&&this.interceptor.request(r),l(r)}))},get(e,t,a){return a||(a={}),a.url=e,a.data=t,a.method="GET",this.request(a)},post(e,t,a){return a||(a={}),a.url=e,a.data=t,a.method="POST",this.request(a)},put(e,t,a){return a||(a={}),a.url=e,a.data=t,a.method="PUT",this.request(a)},delete(e,t,a){return a||(a={}),a.url=e,a.data=t,a.method="DELETE",this.request(a)}};const C=k({__name:"home",setup(e){const t=o(0);U((()=>{const e=w("statusBarHeight");0!=Number(e)&&(t.value=Number(e))})),o(0);const a=o([{label:"待办流程",imgUrl:"../../static/images/home.png",path:""},{label:"已办流程",imgUrl:"../../static/images/home.png",path:""},{label:"掌上看板",imgUrl:"../../static/images/home.png",path:""},{label:"筛选测试",imgUrl:"../../static/images/home.png",path:""}]),l=o(!1);o(null),n((()=>{v()}));const k=e=>{console.log("筛选结果:",e),b({title:`已选择${e.category1.length+e.category2.length}个条件`,icon:"none"})},C=()=>{console.log("重置筛选")},v=()=>{q.get("arr",{}).then((e=>{console.log("请求成功!")}))};return(e,o)=>{const n=c,U=_,w=T;return u(),r(n,{class:"workplace-container"},{default:i((()=>[d(n,{class:"header-stickt"},{default:i((()=>[d(n,{class:"status_bar",style:p({height:2*t.value+"rpx"})},null,8,["style"]),d(n,{class:"header-banner"},{default:i((()=>[d(n,{class:"banner-bg"})])),_:1}),d(n,{class:"notification-bar"},{default:i((()=>[d(n,{class:"notification-content"},{default:i((()=>[d(n,{class:"speaker-icon"},{default:i((()=>[h("🔊")])),_:1}),d(U,{class:"notification-text"},{default:i((()=>[h("本市排水管理体制改革取得阶段性进展")])),_:1})])),_:1})])),_:1})])),_:1}),d(n,{class:"main-content"},{default:i((()=>[d(n,{class:"quick-access"},{default:i((()=>[(u(!0),m(f,null,g(a.value,((e,t)=>(u(),r(n,{class:"access-item",key:t,onClick:t=>(e=>{console.log("点击快捷功能:",e.label),"筛选测试"===e.label?l.value=!0:e.path?s({url:e.path}):b({title:`${e.label}功能开发中`,icon:"none"})})(e)},{default:i((()=>[d(n,{class:"access-icon"},{default:i((()=>[d(w,{src:e.imgUrl,mode:"aspectFit",style:{width:"100%",height:"100%"}},null,8,["src"])])),_:2},1024),d(U,{class:"access-label"},{default:i((()=>[h(y(e.label),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),d(n,{class:"announcement-section"},{default:i((()=>[d(n,{class:"section-title"},{default:i((()=>[h("在线公示")])),_:1}),d(n,{class:"announcement-banner"},{default:i((()=>[d(w,{src:"/assets/online-public-notice-BmBJj0c4.png",mode:"",style:{width:"100%",height:"100%"}})])),_:1})])),_:1}),d(n,{class:"help-section"},{default:i((()=>[d(w,{src:"/assets/online-help-oEo5PalC.png",mode:"",style:{width:"100%",height:"100%"}})])),_:1})])),_:1}),d(j,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=e=>l.value=e),onConfirm:k,onReset:C},null,8,["modelValue"])])),_:1})}}},[["__scopeId","data-v-4626f751"]]);export{C as default};
