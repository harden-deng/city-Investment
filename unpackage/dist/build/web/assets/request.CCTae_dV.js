import{g as e,s as t,e as a,f as r,U as s,a1 as n}from"./index-DszEigh-.js";const o={config:{baseUrl:"http://47.99.104.91:8039/WebApi/api/",header:{"Content-Type":"application/json;charset=UTF-8"},data:{},method:"POST",dataType:"json",responseType:"text",success(){},fail(){},complete(){}},request(o){return o||(o={}),o.baseUrl=o.baseUrl||this.config.baseUrl,o.dataType=o.dataType||this.config.dataType,o.url=o.baseUrl+o.url,o.sslVerify=!1,o.data=o.data||{},o.method=o.method||this.config.method,"json"===o.dataType?o.header={...o.header,"Content-Type":"application/json;charset=UTF-8"}:o.header={...o.header,"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},e("token")?o.header={...o.header,Authorization:"Bearer "+e("token")||""}:o.header={...o.header},new Promise(((e,d)=>{let i=null;o.complete=n=>{switch(n.statusCode){case 200:e(n.data);break;case 401:t({title:"登录过期，请重新登录",icon:"none",duration:4500}),a(),r("token",""),s({url:"/pages/index/index"});break;case 404:t({title:"您访问的链接可能已失效或输入有误",icon:"none",duration:3500}),d(n);break;default:t({title:"请求失败，请稍后重试",icon:"none",duration:2500}),d(n)}},i=Object.assign({},this.config,o),i.requestId=(new Date).getTime(),n(i)}))},get(e,t,a){return a||(a={}),a.url=e,a.data=t,a.method="GET",this.request(a)},post(e,t,a){return a||(a={}),a.url=e,a.data=t,a.method="POST",this.request(a)},put(e,t,a){return a||(a={}),a.url=e,a.data=t,a.method="PUT",this.request(a)},delete(e,t,a){return a||(a={}),a.url=e,a.data=t,a.method="DELETE",this.request(a)}};export{o as h};
