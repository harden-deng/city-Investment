import{u as e,l,r as a,m as t,p as s,o,c as n,w as i,q as c,F as u,t as r,v as d,b as p,d as f,x as m,j as _,i as v,y as g,z as h,A as y,B as b,n as x,s as k,C,S as w,D as T,a as q,E as F,$ as I,G as V,H as j,I as N,J as R,K as S,L as U,M,N as P,O as $,P as D,Q as B,g as z,f as H,R as A,T as O,e as G,U as L}from"./index-DszEigh-.js";import{_ as Z}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{h as Q}from"./request.CCTae_dV.js";import{_ as W}from"./uni-nav-bar.CQxrnHAm.js";import{r as K,o as E,a as J}from"./uni-app.es.yxr7YjqI.js";import{_ as X}from"./z-paging.D8u50ZdD.js";import{_ as Y}from"./search.ByzXnQub.js";import{_ as ee,t as le,f as ae,a as te,p as se}from"./uni-popup.C2LCYpza.js";import{_ as oe}from"./ucicon_1.DoiAO9-M.js";import{_ as ne,a as ie}from"./ucicon_3.pzLcQnJc.js";import"./uni-icons.Bqff-X7n.js";const ce=Z({__name:"bottomNavBar",props:{modelValueFlag:{type:Number,default:0},activeColor:{type:String,default:"#3e65f6"},inactiveColor:{type:String,default:"#000"},componentMode:{type:Boolean,default:!1}},emits:["change"],setup(h,{expose:y,emit:b}){e((e=>({be370ad6:C.value,"3b4d57cc":k.value})));const x=h,k=l((()=>x.activeColor)),C=l((()=>x.inactiveColor)),w=a([{label:"首页",activeIcon:"../../static/images/menu_1_2.svg",icon:"../../static/images/menu_1_1.svg",path:"/pages/nav/home",pagePath:"pages/nav/home"},{label:"待办流程",activeIcon:"../../static/images/menu_2_2.svg",icon:"../../static/images/menu_2_1.svg",path:"/pages/nav/pending",pagePath:"pages/nav/pending"},{label:"已办流程",activeIcon:"../../static/images/menu_3_2.svg",icon:"../../static/images/menu_3_1.svg",path:"/pages/nav/completed",pagePath:"pages/nav/completed"},{label:"个人中心",activeIcon:"../../static/images/menu_4_2.svg",icon:"../../static/images/menu_4_1.svg",path:"/pages/nav/profile",pagePath:"pages/nav/profile"}]),T=b,q=a(x.modelValueFlag);t((()=>x.modelValueFlag),(e=>{x.componentMode&&e!==q.value&&(q.value=e)}));return s((()=>{x.componentMode&&(q.value=x.modelValueFlag)})),y({getCurrentIndex:()=>q.value,setCurrentIndex:e=>{e>=0&&e<w.value.length&&(q.value=e)}}),(e,l)=>{const a=_,t=v,s=g;return o(),n(t,{class:"bottom-nav-bar"},{default:i((()=>[(o(!0),c(u,null,r(w.value,((e,l)=>(o(),n(t,{class:d(["nav-item",{active:q.value===l}]),key:l,onClick:a=>((e,l)=>{if(q.value!==e)return x.componentMode?(q.value=e,void T("change",e,l)):void 0})(l,e)},{default:i((()=>[p(t,{class:"icon-container"},{default:i((()=>[p(a,{src:q.value===l?e.activeIcon:e.icon,class:"nav-icon",mode:"aspectFit"},null,8,["src"])])),_:2},1024),p(s,{class:d(["nav-label",{"label-active":q.value===l}])},{default:i((()=>[f(m(e.label),1)])),_:2},1032,["class"])])),_:2},1032,["class","onClick"])))),128))])),_:1})}}},[["__scopeId","data-v-da2a6931"]]),ue=""+new URL("ib_1-tljX90_h.jpg",import.meta.url).href,re=""+new URL("ib_2-C17k0rYI.jpg",import.meta.url).href,de=Z({__name:"home",props:{currentIndex:{type:Number,default:-1}},emits:["change"],setup(e,{emit:d}){const T=d,q=e,F=a(0),I=a(0),V=a(0),j=a("");s((()=>{h((()=>{N()}))})),t((()=>q.currentIndex),(e=>{0==e&&N()}));const N=()=>{Q.get("/WF/GetAnnouncements").then((e=>{0==e.code&&(j.value=e.data)}))},R=a([{label:"待办流程",imgUrl:"../../static/images/index_menu_1.svg",path:"/pages/nav/pending",bjColor:"#6599ff",isTab:!0,indexFlag:1},{label:"已办流程",imgUrl:"../../static/images/index_menu_2.svg",path:"/pages/nav/completed",bjColor:"#9933ff",isTab:!0,indexFlag:2},{label:"掌上看板",imgUrl:"../../static/images/index_menu_3.svg",path:"",bjColor:"#65cb33",isTab:!1},{label:"在线帮助",imgUrl:"../../static/images/index_menu_4.svg",path:"/pages/info/help",bjColor:"#33cb99",isTab:!1}]),S=()=>{C({url:"/pages/info/msg"})},U=l((()=>`${Math.max(0,V.value-I.value-50)}px`));let M=null;s((()=>{var e;P(),M=()=>P(),null==(e=y)||e(M)}));const P=()=>{try{const e=b();V.value=e.windowHeight}catch(e){V.value=600}},$=()=>{C({url:"/pages/info/help"})};return(e,l)=>{const a=v,t=g,s=_,d=w;return o(),n(a,{class:"workplace-container"},{default:i((()=>[p(d,{"scroll-y":"true",class:"scroller",style:x({height:U.value})},{default:i((()=>[p(a,{class:"header-stickt"},{default:i((()=>[p(a,{class:"status_bar",style:x({height:2*F.value+"rpx"})},null,8,["style"]),p(a,{class:"header-banner"},{default:i((()=>[p(a,{class:"banner-bg"})])),_:1}),p(a,{class:"notification-bar"},{default:i((()=>[p(a,{class:"notification-content",onClick:S,role:"button",tabindex:"0"},{default:i((()=>[p(a,{class:"speaker-icon"}),p(t,{class:"notification-text"},{default:i((()=>[f("·"+m(j.value||"暂无公告"),1)])),_:1})])),_:1})])),_:1})])),_:1}),p(a,{class:"main-content"},{default:i((()=>[p(a,{class:"quick-access"},{default:i((()=>[(o(!0),c(u,null,r(R.value,((e,l)=>(o(),n(a,{class:"access-item",key:l,onClick:l=>(e=>{e.path?e.isTab?T("change",e.indexFlag,{}):C({url:e.path}):k({title:`${e.label}功能开发中`,icon:"none"})})(e)},{default:i((()=>[p(a,{class:"access-icon",style:x({backgroundColor:e.bjColor})},{default:i((()=>[p(s,{src:e.imgUrl,mode:"aspectFit",style:{width:"59%",height:"59%"}},null,8,["src"])])),_:2},1032,["style"]),p(t,{class:"access-label"},{default:i((()=>[f(m(e.label),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),p(a,{class:"announcement-section"},{default:i((()=>[p(a,{class:"section-title"},{default:i((()=>[p(a,{class:"section-title-text"},{default:i((()=>[f("在线公示")])),_:1}),p(t,{class:"section-title-bj"})])),_:1}),p(a,{class:"announcement-banner"},{default:i((()=>[p(s,{class:"announcement-img",src:ue,loading:"lazy","aria-label":"在线公示"})])),_:1})])),_:1}),p(a,{class:"help-section",onClick:$},{default:i((()=>[p(s,{src:re,mode:"","aria-label":"在线帮助",loading:"lazy",style:{width:"100%",height:"100%","border-radius":"24rpx"}})])),_:1})])),_:1})])),_:1},8,["style"])])),_:1})}}},[["__scopeId","data-v-87e584de"]]),pe=Z({__name:"filterPopup",props:{category1Options:{type:Array,default:()=>[]},category2Options:{type:Array,default:()=>[]}},emits:["confirm","reset"],setup(e,{expose:t,emit:s}){const _=le((()=>{k.category1.clear(),k.category2.clear(),h("reset")}),500),g=le((()=>{!function(){const e={category1:Array.from(k.category1),category2:Array.from(k.category2)};h("confirm",e),I()}()}),1e3),h=s,y=a(null),b=l((()=>[{label:"筛选条件一",value:"filter1_1"},{label:"筛选条件二",value:"filter1_2"},{label:"筛选条件三",value:"filter1_3"},{label:"筛选条件四",value:"filter1_4"},{label:"筛选条件五",value:"filter1_5"},{label:"筛选条件六",value:"filter1_6"},{label:"筛选条件七",value:"filter1_7"},{label:"筛选条件八",value:"filter1_8"},{label:"筛选条件九",value:"filter1_9"}])),x=l((()=>[{label:"筛选条件一",value:"filter2_1"},{label:"筛选条件二",value:"filter2_2"},{label:"筛选条件三",value:"filter2_3"},{label:"筛选条件四",value:"filter2_4"},{label:"筛选条件五",value:"filter2_5"},{label:"筛选条件六",value:"filter2_6"},{label:"筛选条件七",value:"filter2_7"},{label:"筛选条件八",value:"filter2_8"},{label:"筛选条件九",value:"filter2_9"}])),k=T({category1:new Set([]),category2:new Set([])});function C(e,l){e.has(l)?e.delete(l):e.add(l)}function I(){var e,l;null==(l=null==(e=y.value)?void 0:e.close)||l.call(e)}return t({open:function(){var e,l;null==(l=null==(e=y.value)?void 0:e.open)||l.call(e)},close:I}),(e,l)=>{const a=v,t=w,s=K(q("uni-popup"),ee);return o(),n(s,{ref_key:"popupRef",ref:y,type:"bottom","safe-area":!0,"mask-click":!0},{default:i((()=>[p(a,{class:"filter-popup"},{default:i((()=>[p(a,{class:"filter-title"},{default:i((()=>[f(" 选择筛选条件 ")])),_:1}),p(t,{"scroll-y":"true",style:{height:"calc(100% - 120rpx)"}},{default:i((()=>[p(a,{class:"filter-category"},{default:i((()=>[p(a,{class:"category-title"},{default:i((()=>[f("筛选分类一")])),_:1}),p(a,{class:"filter-grid"},{default:i((()=>[(o(!0),c(u,null,r(b.value,((e,l)=>(o(),n(a,{key:e.value,class:d(["filter-item",{active:k.category1.has(e.value)}]),onClick:l=>C(k.category1,e.value)},{default:i((()=>[f(m(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),p(a,{class:"filter-category"},{default:i((()=>[p(a,{class:"category-title"},{default:i((()=>[f("筛选分类二")])),_:1}),p(a,{class:"filter-grid"},{default:i((()=>[(o(!0),c(u,null,r(x.value,((e,l)=>(o(),n(a,{key:e.value,class:d(["filter-item",{active:k.category2.has(e.value)}]),onClick:l=>C(k.category2,e.value)},{default:i((()=>[f(m(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),p(a,{style:{height:"120rpx"}})])),_:1}),p(a,{class:"fp-footer"},{default:i((()=>[p(a,{class:"btn reset",onClick:F(_)},{default:i((()=>[f("重置")])),_:1},8,["onClick"]),p(a,{class:"btn confirm",onClick:F(g)},{default:i((()=>[f("完成")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},512)}}},[["__scopeId","data-v-b8d641f9"]]),fe=Z({__name:"pending",setup(l){e((e=>({"652af0de":y.value})));const t=a(0),y=a("");E((()=>{I("refresh-pending",(()=>{ee()}))})),J((()=>{V("refresh-pending")}));const w=a(null);s((()=>{h((()=>{const{windowHeight:e}=b();U().in(w.value).select(".header-stickt").boundingClientRect((l=>{if(l){const a=(null==l?void 0:l.height)||0,t=Math.max(0,e-a);y.value=`${t}px`}})).exec()}))}));const T=a(null),$=a(""),D=a(0),B=[{label:"所有",wf:""},{label:"工程类款项",wf:"GC01"},{label:"其他类",wf:"QT01"}],z=a(B.map((e=>e.wf))),H=a(B.map((e=>e.label))),A=a(null);function O(){var e;null==(e=A.value)||e.open()}function G(e){console.log("筛选结果",e)}function L(){console.log("重置筛选")}const Z=()=>{M(),ee()},ee=()=>{T.value.reload()},le=()=>{console.log("下拉刷新触发")},oe=a([]),ne=(e,l)=>{Q.get("/WF/GetToDoTask",{Page:e,Limit:l,ProcDefId:z.value[D.value],RequestFormNo:$.value}).then((e=>{T.value.complete(e.data.data||[])})).catch((()=>{T.value.complete(!1),k({title:"加载失败",icon:"none"})}))};return(e,l)=>{const a=v,s=_,h=P,y=K(q("uni-nav-bar"),W),b=g,k=K(q("z-paging"),X);return o(),n(a,{class:"order-page"},{default:i((()=>[p(a,{class:"header-stickt",ref_key:"headerRef",ref:w},{default:i((()=>[p(a,{class:"status_bar",style:x({height:2*t.value+"rpx"})},null,8,["style"]),p(y,{class:"nav-bar-top"},{left:i((()=>[p(a,{class:"nav-bar-title"},{default:i((()=>[f(" 待办流程 ")])),_:1})])),right:i((()=>[p(a,{onClick:O,class:"nav-bar-filter"},{default:i((()=>[f(" 筛选 ")])),_:1})])),default:i((()=>[p(a,{class:"nav-input-view"},{default:i((()=>[p(s,{class:"input-seach",src:Y,mode:"",onClick:j(Z,["stop"])}),p(h,{class:"input-view",placeholder:"搜索",type:"text",modelValue:$.value,"onUpdate:modelValue":l[0]||(l[0]=e=>$.value=e),"confirm-type":"search",onConfirm:Z,onKeyup:N(Z,["enter"])},null,8,["modelValue"])])),_:1})])),_:1}),p(a,{class:"segmented-section"},{default:i((()=>[(o(!0),c(u,null,r(H.value,((e,l)=>(o(),n(a,{class:"segmented-section-item",key:l,onClick:e=>{return a=l,D.value=a,ee(),void console.log("切换到:",H.value[a]);var a}},{default:i((()=>[p(b,{class:"section-item-0",style:{height:"0"}}),p(a,{class:d(["section-item-1",{"section-item-1-active":l===D.value}])},{default:i((()=>[f(m(e),1)])),_:2},1032,["class"]),p(b,{class:d(["section-item-0",{"section-item-0-active":l===D.value}])},null,8,["class"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},512),p(a,{class:"order-list"},{default:i((()=>[p(k,{ref_key:"paging",ref:T,modelValue:oe.value,"onUpdate:modelValue":l[1]||(l[1]=e=>oe.value=e),onOnRefresh:le,onQuery:ne,fixed:!1},{default:i((()=>[p(a,{style:{height:"30rpx"}}),(o(!0),c(u,null,r(oe.value,(e=>(o(),n(a,{class:"order-card",key:e.id||e.requestFormNo,onClick:l=>(e=>{C({url:se[e.procDefCode],success(l){l.eventChannel.emit("open-detail",{type:"pending",order:e})}})})(e)},{default:i((()=>[R(p(a,{class:"approved-view"},null,512),[[S,"Completed"===(null==e?void 0:e.wfStatus)]]),p(a,{class:"order-header"},{default:i((()=>[p(b,{class:"order-id"},{default:i((()=>[f(m(e.requestFormNo),1)])),_:2},1024),p(a,{class:"order-time"},{default:i((()=>[p(b,{class:"time-text"},{default:i((()=>[f(m(F(ae)(e.submittedDate)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),p(a,{class:"order-content"},{default:i((()=>[p(a,{class:"quote-section"},{default:i((()=>[p(b,{class:"quote-label"},{default:i((()=>[f("申请费用：")])),_:1}),p(b,{class:"quote-price"},{default:i((()=>[f("¥"+m(F(te)(e.planToPayTotal)||"--"),1)])),_:2},1024)])),_:2},1024),p(a,{class:"quote-section"},{default:i((()=>[p(b,{class:"quote-label"},{default:i((()=>[f("申请单位：")])),_:1}),p(b,{class:"description-text"},{default:i((()=>[f(m(e.procDefName)+" | "+m(e.submittedByName),1)])),_:2},1024)])),_:2},1024),p(a,{class:"quote-section"},{default:i((()=>[p(b,{class:"quote-label"},{default:i((()=>[f("关键信息：")])),_:1}),p(b,{class:"description-text"},{default:i((()=>[f(m(e.taskName),1)])),_:2},1024)])),_:2},1024),p(a,{class:"quote-section"},{default:i((()=>[p(b,{class:"quote-label"},{default:i((()=>[f("业务摘要：")])),_:1}),p(b,{class:"description-text"},{default:i((()=>[f(m(e.stepName),1)])),_:2},1024)])),_:2},1024),p(a,{class:"label-view"},{default:i((()=>[(o(!0),c(u,null,r((null==e?void 0:e.labelArr)||[],((e,l)=>(o(),n(a,{class:"label-item",key:l},{default:i((()=>[p(b,{class:"point-icon"}),p(b,{class:"label-text"},{default:i((()=>[f(m(e.label),1)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["modelValue"])])),_:1}),p(pe,{ref_key:"filterRef",ref:A,onConfirm:G,onReset:L},null,512)])),_:1})}}},[["__scopeId","data-v-aea9da74"]]),me=Z({__name:"completed",setup(l){e((e=>({"408229d3":y.value})));const t=a(0),y=a("");E((()=>{I("refresh-completed",(()=>{ee()}))})),J((()=>{V("refresh-completed")}));const w=a(null);s((()=>{h((()=>{const{windowHeight:e}=b();U().in(w.value).select(".header-stickt").boundingClientRect((l=>{if(l){const a=(null==l?void 0:l.height)||0,t=Math.max(0,e-a);y.value=`${t}px`}})).exec()}))}));const T=a(null),$=a(""),D=a(0),B=[{label:"所有",wf:""},{label:"流转中",wf:"Running"},{label:"已审核",wf:"Completed"}],z=a(B.map((e=>e.wf))),H=a(B.map((e=>e.label))),A=a(null);function O(){var e;null==(e=A.value)||e.open()}function G(e){console.log("筛选结果",e)}function L(){console.log("重置筛选")}const Z=()=>{M(),ee()},ee=()=>{T.value.reload()},le=()=>{console.log("下拉刷新触发")},oe=a([]),ne=(e,l)=>{Q.get("/WF/GetInvolvedProcess",{Page:e,Limit:l,Wfstatus:z.value[D.value],RequestFormNo:$.value}).then((e=>{T.value.complete(e.data.data||[])})).catch((()=>{T.value.complete(!1),k({title:"加载失败",icon:"none"})}))};return(e,l)=>{const a=v,s=_,h=P,y=K(q("uni-nav-bar"),W),b=g,k=K(q("z-paging"),X);return o(),n(a,{class:"order-page"},{default:i((()=>[p(a,{class:"header-stickt",ref_key:"headerRef",ref:w},{default:i((()=>[p(a,{class:"status_bar",style:x({height:2*t.value+"rpx"})},null,8,["style"]),p(y,{class:"nav-bar-top"},{left:i((()=>[p(a,{class:"nav-bar-title"},{default:i((()=>[f(" 已办流程 ")])),_:1})])),right:i((()=>[p(a,{onClick:O,class:"nav-bar-filter"},{default:i((()=>[f(" 筛选 ")])),_:1})])),default:i((()=>[p(a,{class:"nav-input-view"},{default:i((()=>[p(s,{class:"input-seach",src:Y,mode:"",onClick:j(Z,["stop"])}),p(h,{"adjust-position":!1,"hold-keyboard":!0,class:"input-view",placeholder:"搜索",type:"text",modelValue:$.value,"onUpdate:modelValue":l[0]||(l[0]=e=>$.value=e),"confirm-type":"search",onConfirm:Z,onKeyup:N(Z,["enter"])},null,8,["modelValue"])])),_:1})])),_:1}),p(a,{class:"segmented-section"},{default:i((()=>[(o(!0),c(u,null,r(H.value,((e,l)=>(o(),n(a,{class:"segmented-section-item",key:l,onClick:e=>{return a=l,D.value=a,ee(),void console.log("切换到:",H.value[a]);var a}},{default:i((()=>[p(b,{class:"section-item-0",style:{height:"0"}}),p(a,{class:d(["section-item-1",{"section-item-1-active":l===D.value}])},{default:i((()=>[f(m(e),1)])),_:2},1032,["class"]),p(b,{class:d(["section-item-0",{"section-item-0-active":l===D.value}])},null,8,["class"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},512),p(a,{class:"order-list"},{default:i((()=>[p(k,{ref_key:"paging",ref:T,modelValue:oe.value,"onUpdate:modelValue":l[1]||(l[1]=e=>oe.value=e),onOnRefresh:le,onQuery:ne,fixed:!1},{default:i((()=>[p(a,{style:{height:"30rpx"}}),(o(!0),c(u,null,r(oe.value,(e=>(o(),n(a,{class:"order-card",key:e.id||e.requestFormNo,onClick:l=>(e=>{C({url:se[e.procDefCode],success(l){l.eventChannel.emit("open-detail",{type:"completed",order:e})}})})(e)},{default:i((()=>[R(p(a,{class:"approved-view"},null,512),[[S,"Completed"===(null==e?void 0:e.wfStatus)]]),p(a,{class:"order-header"},{default:i((()=>[p(b,{class:"order-id"},{default:i((()=>[f(m(e.requestFormNo),1)])),_:2},1024),p(a,{class:"order-time"},{default:i((()=>[p(b,{class:"time-text"},{default:i((()=>[f(m(F(ae)(e.submittedDate)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),p(a,{class:"order-content"},{default:i((()=>[p(a,{class:"quote-section"},{default:i((()=>[p(b,{class:"quote-label"},{default:i((()=>[f("申请费用：")])),_:1}),p(b,{class:"quote-price"},{default:i((()=>[f("¥"+m(F(te)(e.planToPayTotal)||"--"),1)])),_:2},1024)])),_:2},1024),p(a,{class:"quote-section"},{default:i((()=>[p(b,{class:"quote-label"},{default:i((()=>[f("申请单位：")])),_:1}),p(b,{class:"description-text"},{default:i((()=>[f(m(e.procDefName)+" | "+m(e.submittedByName),1)])),_:2},1024)])),_:2},1024),p(a,{class:"quote-section"},{default:i((()=>[p(b,{class:"quote-label"},{default:i((()=>[f("关键信息：")])),_:1}),p(b,{class:"description-text"},{default:i((()=>[f(m(e.taskName),1)])),_:2},1024)])),_:2},1024),p(a,{class:"quote-section"},{default:i((()=>[p(b,{class:"quote-label"},{default:i((()=>[f("业务摘要：")])),_:1}),p(b,{class:"description-text"},{default:i((()=>[f(m(e.stepName),1)])),_:2},1024)])),_:2},1024),p(a,{class:"label-view"},{default:i((()=>[(o(!0),c(u,null,r((null==e?void 0:e.labelArr)||[],((e,l)=>(o(),n(a,{class:"label-item",key:l},{default:i((()=>[p(b,{class:"point-icon"}),p(b,{class:"label-text"},{default:i((()=>[f(m(e.label),1)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["modelValue"])])),_:1}),p(pe,{ref_key:"filterRef",ref:A,onConfirm:G,onReset:L},null,512)])),_:1})}}},[["__scopeId","data-v-91a69d77"]]),_e=""+new URL("user-CkpnIhPq.jpg",import.meta.url).href,ve={data:()=>({}),created(){this.popup=this.getParent()},methods:{getParent(e="uniPopup"){let l=this.$parent,a=l.$options.name;for(;a!==e;){if(l=l.$parent,!l)return!1;a=l.$options.name}return l}}},ge={en:{"uni-popup.cancel":"cancel","uni-popup.ok":"ok","uni-popup.placeholder":"pleace enter","uni-popup.title":"Hint","uni-popup.shareTitle":"Share to"},"zh-Hans":{"uni-popup.cancel":"取消","uni-popup.ok":"确定","uni-popup.placeholder":"请输入","uni-popup.title":"提示","uni-popup.shareTitle":"分享到"},"zh-Hant":{"uni-popup.cancel":"取消","uni-popup.ok":"確定","uni-popup.placeholder":"請輸入","uni-popup.title":"提示","uni-popup.shareTitle":"分享到"}},{t:he}=$(ge);const ye=Z({name:"uniPopupDialog",mixins:[ve],emits:["confirm","close","update:modelValue","input"],props:{inputType:{type:String,default:"text"},showClose:{type:Boolean,default:!0},modelValue:{type:[Number,String],default:""},placeholder:{type:[String,Number],default:""},type:{type:String,default:"error"},mode:{type:String,default:"base"},title:{type:String,default:""},content:{type:String,default:""},beforeClose:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""},maxlength:{type:Number,default:-1},focus:{type:Boolean,default:!0},borderRadius:{type:String,default:"11px"}},data:()=>({dialogType:"error",val:""}),computed:{okText(){return this.confirmText||he("uni-popup.ok")},closeText(){return this.cancelText||he("uni-popup.cancel")},placeholderText(){return this.placeholder||he("uni-popup.placeholder")},titleText(){return this.title||he("uni-popup.title")}},watch:{type(e){this.dialogType=e},mode(e){"input"===e&&(this.dialogType="info")},value(e){this.setVal(e)},modelValue(e){this.setVal(e)},val(e){this.$emit("update:modelValue",e)}},created(){this.popup.disableMask(),"input"===this.mode?(this.dialogType="info",this.val=this.value,this.val=this.modelValue):this.dialogType=this.type},methods:{setVal(e){-1!=this.maxlength&&"input"===this.mode?this.val=e.slice(0,this.maxlength):this.val=e},onOk(){"input"===this.mode?this.$emit("confirm",this.val):this.$emit("confirm"),this.beforeClose||this.popup.close()},closeDialog(){this.$emit("close"),this.beforeClose||this.popup.close()},close(){this.popup.close()}}},[["render",function(e,l,a,t,s,c){const u=g,r=v,_=P;return o(),n(r,{class:"uni-popup-dialog",style:x({borderRadius:a.borderRadius})},{default:i((()=>[p(r,{class:"uni-dialog-title"},{default:i((()=>[p(u,{class:d(["uni-dialog-title-text",["uni-popup__"+s.dialogType]])},{default:i((()=>[f(m(c.titleText),1)])),_:1},8,["class"])])),_:1}),"base"===a.mode?(o(),n(r,{key:0,class:"uni-dialog-content"},{default:i((()=>[D(e.$slots,"default",{},(()=>[p(u,{class:"uni-dialog-content-text"},{default:i((()=>[f(m(a.content),1)])),_:1})]),!0)])),_:3})):(o(),n(r,{key:1,class:"uni-dialog-content"},{default:i((()=>[D(e.$slots,"default",{},(()=>[p(_,{class:"uni-dialog-input",maxlength:a.maxlength,modelValue:s.val,"onUpdate:modelValue":l[0]||(l[0]=e=>s.val=e),type:a.inputType,placeholder:c.placeholderText,focus:a.focus},null,8,["maxlength","modelValue","type","placeholder","focus"])]),!0)])),_:3})),p(r,{class:"uni-dialog-button-group"},{default:i((()=>[a.showClose?(o(),n(r,{key:0,class:"uni-dialog-button",onClick:c.closeDialog},{default:i((()=>[p(u,{class:"uni-dialog-button-text"},{default:i((()=>[f(m(c.closeText),1)])),_:1})])),_:1},8,["onClick"])):B("",!0),p(r,{class:d(["uni-dialog-button",a.showClose?"uni-border-left":""]),onClick:c.onOk},{default:i((()=>[p(u,{class:"uni-dialog-button-text uni-button-color"},{default:i((()=>[f(m(c.okText),1)])),_:1})])),_:1},8,["class","onClick"])])),_:1})])),_:3},8,["style"])}],["__scopeId","data-v-48dd424a"]]),be=Z(Object.assign({name:"confirmDialog"},{__name:"confirmDialog",props:{content:{type:String,default:""},msgType:{type:String,default:""}},setup(e,{expose:l,emit:t}){const s=e,c=s.content??"",u=s.msgType??"",r=a(),d=t,f=()=>{d("confirm")},m=()=>{};return l({open:function(e){var l,a;null==(a=null==(l=r.value)?void 0:l.open)||a.call(l,e||"center")}}),(e,l)=>{const a=K(q("uni-popup-dialog"),ye),t=K(q("uni-popup"),ee);return o(),n(t,{ref_key:"alertDialog",ref:r,type:"dialog"},{default:i((()=>[p(a,{content:F(c),type:F(u),cancelText:"关闭",confirmText:"确定",onConfirm:f,onClose:m},null,8,["content","type"])])),_:1},512)}}}),[["__scopeId","data-v-b9cc5136"]]),xe=Z({__name:"profile",setup(e){const t=a(null),c=a({});s((()=>{const e=z("userInfo");e?c.value=e:u(),r()}));const u=()=>{Q.get("/Users/GetUserInfo").then((e=>{0==e.code&&(c.value=e.data,H("userInfo",e.data))}))},r=()=>{Q.get("/Users/GetUserSignature").then((e=>{0==e.code&&H("userSignature",e.data)}))},d=()=>{C({url:"/pages/info/msg"})},h=()=>{C({url:"/pages/signature/index"})},k=()=>{C({url:"/pages/info/help"})},T=()=>{var e;null==(e=t.value)||e.open()},q=()=>{try{G()}catch(e){}L({url:"/pages/index/index"})},F=a(0),I=l((()=>`${Math.max(0,F.value-50)}px`));let V=null;s((()=>{var e;j(),V=()=>j(),null==(e=y)||e(V)})),A((()=>{V&&"function"==typeof O&&(O(V),V=null)}));const j=()=>{try{const e=b();F.value=e.windowHeight}catch(e){F.value=600}};return(e,l)=>{const a=g,s=v,u=_,r=w;return o(),n(r,{"scroll-y":"true",class:"scroller",style:x({height:I.value})},{default:i((()=>[p(s,{class:"profile"},{default:i((()=>[p(s,{class:"card"},{default:i((()=>[p(s,{class:"card__header"},{default:i((()=>[p(a,{class:"card__company"},{default:i((()=>[f("上海公路投资建设发展有限公司")])),_:1}),p(s,{class:"card__body"},{default:i((()=>[p(a,{class:"card__name"},{default:i((()=>{var e;return[f(m((null==(e=c.value)?void 0:e.userFullName)||"暂无姓名"),1)]})),_:1}),p(a,{class:"card__dept"},{default:i((()=>{var e;return[f(m((null==(e=c.value)?void 0:e.departmentName)||"暂无部门"),1)]})),_:1})])),_:1})])),_:1}),p(u,{class:"card__avatar",src:_e,mode:"aspectFill",loading:"lazy"})])),_:1}),p(s,{class:"list"},{default:i((()=>[p(s,{class:"list__item","hover-class":"list__item--hover",onClick:d},{default:i((()=>[p(s,{class:"item-icon item-icon-1"},{default:i((()=>[p(u,{class:"list__icon",src:oe,mode:"widthFix"})])),_:1}),p(a,{class:"list__text"},{default:i((()=>[f("消息中心")])),_:1}),p(u,{class:"arrow-right-icon",src:ne,mode:""})])),_:1}),p(s,{class:"list__item merge-1","hover-class":"list__item--hover",onClick:h},{default:i((()=>[p(s,{class:"item-icon item-icon-2"},{default:i((()=>[p(u,{class:"list__icon",src:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='_图层_1'%20data-name='图层%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20704.37%20704.92'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23fff;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='M482.71,4.98l216.64,216.61c4.55,4.54,6.16,11.26,4.16,17.38-2,6.12-7.26,10.59-13.62,11.57l-50.31,7.85-193.06-193.05,7.24-50.69c.92-6.39,5.36-11.72,11.49-13.76,6.13-2.05,12.88-.46,17.46,4.1h0ZM73.08,657.27c127.05-113.7,272.9-147.73,431.55-188.41l15.22-137.15-146.67-146.67-137.15,15.22c-40.69,158.65-74.72,304.47-188.41,431.55L0,584.23c96.53-112.64,132.78-237.33,181.01-446.5l217.23-24.13,193.09,193.09-24.13,217.22c-209.17,48.27-333.89,84.48-446.5,181.01l-47.62-47.65ZM253.44,451.45c-17.75-17.14-24.86-42.52-18.62-66.39,6.25-23.87,24.89-42.51,48.75-48.76,23.87-6.25,49.25.87,66.39,18.62,25.5,26.84,24.97,69.11-1.2,95.29-26.17,26.18-68.45,26.73-95.29,1.23h-.03ZM253.44,451.45'/%3e%3c/svg%3e",mode:"widthFix"})])),_:1}),p(a,{class:"list__text"},{default:i((()=>[f("签名维护")])),_:1}),p(u,{class:"arrow-right-icon",src:ne,mode:""}),p(s,{class:"merge-1-across"})])),_:1}),p(s,{class:"list__item merge-2","hover-class":"list__item--hover",onClick:k},{default:i((()=>[p(s,{class:"item-icon item-icon-3"},{default:i((()=>[p(u,{class:"list__icon",src:ie,mode:"widthFix"})])),_:1}),p(a,{class:"list__text"},{default:i((()=>[f("在线帮助")])),_:1}),p(u,{class:"arrow-right-icon",src:ne,mode:""})])),_:1}),p(s,{class:"list__item list__item--danger","hover-class":"list__item--hover",onClick:T},{default:i((()=>[p(s,{class:"item-icon item-icon-4"},{default:i((()=>[p(u,{class:"list__icon",src:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='_图层_1'%20data-name='图层%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20750.93%20682.67'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23fff;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='M341.33,682.67C152.82,682.67,0,529.85,0,341.33S152.82,0,341.33,0c107.46-.08,208.66,50.52,273.07,136.53h-92.5c-109.79-96.81-276.38-89.83-377.69,15.82-101.31,105.65-101.3,272.39.03,378.03,101.32,105.63,267.92,112.58,377.7,15.75h92.5c-64.41,86.02-165.63,136.62-273.1,136.53h0ZM580.27,477.87v-102.4h-273.07v-68.27h273.07v-102.4l170.67,136.53-170.67,136.54ZM580.27,477.87'/%3e%3c/svg%3e",mode:"widthFix"})])),_:1}),p(a,{class:"list__text"},{default:i((()=>[f("安全登出")])),_:1}),p(u,{class:"arrow-right-icon",src:ne,mode:""})])),_:1})])),_:1}),p(be,{ref_key:"confirmRef",ref:t,content:"确定退出吗？",onConfirm:q},null,512)])),_:1})])),_:1},8,["style"])}}},[["__scopeId","data-v-8f791ce2"]]),ke=Z({__name:"layoutHome",setup(e){const l=a([!0,!1,!1,!0]),t=a(0),s=a(null),c=(e,a)=>{t.value!==e&&(e=>{l.value[e]=!0,t.value=e,s.value&&s.value.setCurrentIndex(e)})(e)};return(e,a)=>{const u=v;return o(),n(u,{class:"layout-container"},{default:i((()=>[R(p(u,null,{default:i((()=>[l.value[0]?(o(),n(de,{key:0,onChange:c,currentIndex:t.value},null,8,["currentIndex"])):B("",!0)])),_:1},512),[[S,0===t.value]]),R(p(u,null,{default:i((()=>[l.value[1]?(o(),n(fe,{key:0})):B("",!0)])),_:1},512),[[S,1===t.value]]),R(p(u,null,{default:i((()=>[l.value[2]?(o(),n(me,{key:0})):B("",!0)])),_:1},512),[[S,2===t.value]]),R(p(u,null,{default:i((()=>[l.value[3]?(o(),n(xe,{key:0})):B("",!0)])),_:1},512),[[S,3===t.value]]),p(ce,{ref_key:"bottomNavRef",ref:s,modelValueFlag:t.value,componentMode:!0,onChange:c},null,8,["modelValueFlag"])])),_:1})}}},[["__scopeId","data-v-2e4cad64"]]);export{ke as default};
