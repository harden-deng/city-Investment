import{a6 as a,a0 as e,r as t,m as s,a7 as l,o as n,c,w as o,t as i,F as v,u,J as r,b as p,d as g,x as m,s as _,k as d,a8 as h,f,v as x,i as b}from"./index-CwTIEDZV.js";import{_ as I}from"./_plugin-vue_export-helper.BCo6x5W8.js";const C=I({__name:"bottomNavBar",props:{modelValueFlag:{type:Number,default:0},activeColor:{type:String,default:"#3e65f6"},inactiveColor:{type:String,default:"#000"}},emits:["change"],setup(I,{expose:C,emit:k}){a((a=>({"6c90b3ee":T.value,fdae66e4:P.value})));const y=I,P=e((()=>y.activeColor)),T=e((()=>y.inactiveColor)),F=t([{label:"首页",activeIcon:"../../static/images/menu_1_2.svg",icon:"../../static/images/menu_1_1.svg",iconText:"🏠",path:"/pages/nav/home",pagePath:"pages/nav/home"},{label:"待办流程",activeIcon:"../../static/images/menu_2_2.svg",icon:"../../static/images/menu_2_1.svg",iconText:"📋",path:"/pages/nav/pending",pagePath:"pages/nav/pending"},{label:"已办流程",activeIcon:"../../static/images/menu_3_2.svg",icon:"../../static/images/menu_3_1.svg",iconText:"✅",path:"/pages/nav/completed",pagePath:"pages/nav/completed"},{label:"个人中心",activeIcon:"../../static/images/menu_4_2.svg",icon:"../../static/images/menu_4_1.svg",iconText:"👤",path:"/pages/nav/profile",pagePath:"pages/nav/profile"}]),j=t(y.modelValueFlag),w=a=>{const e=l();e[e.length-1].route!==a.pagePath&&(a.path.includes("pages/nav/")?_({url:a.path,fail:e=>{console.error("页面跳转失败:",e),d({url:a.path,fail:a=>{console.error("备用跳转也失败:",a)}})}}):h({url:a.path,fail:e=>{console.error("页面跳转失败:",e),_({url:a.path,fail:a=>{console.error("switchTab也失败:",a)}})}}))};return s((()=>{const a=l();if(a.length>0){const e=a[a.length-1].route,t=F.value.findIndex((a=>a.pagePath===e||a.path.includes(e)));-1!==t&&t!==j.value&&(j.value=t)}})),C({getCurrentIndex:()=>j.value,setCurrentIndex:a=>{a>=0&&a<F.value.length&&(j.value=a)}}),(a,e)=>{const t=f,s=x,l=b;return n(),c(l,{class:"bottom-nav-bar"},{default:o((()=>[(n(!0),i(v,null,u(F.value,((a,e)=>(n(),c(l,{class:r(["nav-item",{active:j.value===e}]),key:e,onClick:e=>((a,e)=>{w(e)})(0,a)},{default:o((()=>[p(l,{class:"icon-container"},{default:o((()=>[a.icon?(n(),c(t,{key:0,src:j.value===e&&a.activeIcon||a.icon,class:"nav-icon",mode:"aspectFit"},null,8,["src"])):(n(),c(s,{key:1,class:r(["nav-icon-text",j.value===e?"text-active":""])},{default:o((()=>[g(m(a.iconText),1)])),_:2},1032,["class"]))])),_:2},1024),p(s,{class:r(["nav-label",{"label-active":j.value===e}])},{default:o((()=>[g(m(a.label),1)])),_:2},1032,["class"])])),_:2},1032,["class","onClick"])))),128))])),_:1})}}},[["__scopeId","data-v-1ecec8e3"]]);export{C as B};
