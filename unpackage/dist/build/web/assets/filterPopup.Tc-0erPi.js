import{r as e,k as l,M as a,c as t,o as r,d as s,w as o,e as i,f as u,q as c,F as f,t as n,H as _,x as p,L as v,i as y,S as d}from"./index-vclNGZkt.js";import{_ as b}from"./uni-popup.DprRcyc1.js";import{r as g}from"./uni-app.es.C4xkBdw-.js";import{t as m}from"./h5Bribge.BpFLbEvQ.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";const h=k({__name:"filterPopup",props:{category1Options:{type:Array,default:()=>[]},category2Options:{type:Array,default:()=>[]}},emits:["confirm","reset"],setup(k,{expose:h,emit:C}){const x=m((()=>{F.category1.clear(),F.category2.clear(),A("reset")}),500),j=m((()=>{!function(){const e={category1:Array.from(F.category1),category2:Array.from(F.category2)};A("confirm",e),B()}()}),1e3),A=C,w=e(null),S=l((()=>[{label:"筛选条件一",value:"filter1_1"},{label:"筛选条件二",value:"filter1_2"},{label:"筛选条件三",value:"filter1_3"},{label:"筛选条件四",value:"filter1_4"},{label:"筛选条件五",value:"filter1_5"},{label:"筛选条件六",value:"filter1_6"},{label:"筛选条件七",value:"filter1_7"},{label:"筛选条件八",value:"filter1_8"},{label:"筛选条件九",value:"filter1_9"}])),q=l((()=>[{label:"筛选条件一",value:"filter2_1"},{label:"筛选条件二",value:"filter2_2"},{label:"筛选条件三",value:"filter2_3"},{label:"筛选条件四",value:"filter2_4"},{label:"筛选条件五",value:"filter2_5"},{label:"筛选条件六",value:"filter2_6"},{label:"筛选条件七",value:"filter2_7"},{label:"筛选条件八",value:"filter2_8"},{label:"筛选条件九",value:"filter2_9"}])),F=a({category1:new Set([]),category2:new Set([])});function O(e,l){e.has(l)?e.delete(l):e.add(l)}function B(){var e,l;null==(l=null==(e=w.value)?void 0:e.close)||l.call(e)}return h({open:function(){var e,l;null==(l=null==(e=w.value)?void 0:e.open)||l.call(e)},close:B}),(e,l)=>{const a=y,m=d,k=g(t("uni-popup"),b);return r(),s(k,{ref_key:"popupRef",ref:w,type:"bottom","safe-area":!0,"mask-click":!0},{default:o((()=>[i(a,{class:"filter-popup"},{default:o((()=>[i(a,{class:"filter-title"},{default:o((()=>[u(" 选择筛选条件 ")])),_:1}),i(m,{"scroll-y":"true",style:{height:"calc(100% - 120rpx)"}},{default:o((()=>[i(a,{class:"filter-category"},{default:o((()=>[i(a,{class:"category-title"},{default:o((()=>[u("筛选分类一")])),_:1}),i(a,{class:"filter-grid"},{default:o((()=>[(r(!0),c(f,null,n(S.value,((e,l)=>(r(),s(a,{key:e.value,class:_(["filter-item",{active:F.category1.has(e.value)}]),onClick:l=>O(F.category1,e.value)},{default:o((()=>[u(p(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),i(a,{class:"filter-category"},{default:o((()=>[i(a,{class:"category-title"},{default:o((()=>[u("筛选分类二")])),_:1}),i(a,{class:"filter-grid"},{default:o((()=>[(r(!0),c(f,null,n(q.value,((e,l)=>(r(),s(a,{key:e.value,class:_(["filter-item",{active:F.category2.has(e.value)}]),onClick:l=>O(F.category2,e.value)},{default:o((()=>[u(p(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),i(a,{style:{height:"120rpx"}})])),_:1}),i(a,{class:"fp-footer"},{default:o((()=>[i(a,{class:"btn reset",onClick:v(x)},{default:o((()=>[u("重置")])),_:1},8,["onClick"]),i(a,{class:"btn confirm",onClick:v(j)},{default:o((()=>[u("完成")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},512)}}},[["__scopeId","data-v-2681cd00"]]);export{h as F};
